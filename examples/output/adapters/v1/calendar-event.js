// DO NOT EDIT - this file was autogenerated by Braise
import DS from 'ember-data';
import Ember from 'ember';

export default DS.RESTAdapter.extend({
  host: "https://production.icisapp.com",
  namespace: "api/v1",
  token: Ember.computed.alias('accessTokenWrapper.token'),
  pathForType: function(type) {
    var underscorized = Ember.String.underscore(type);
    return Ember.String.pluralize(underscorized);
  },

  ajaxOptions: function(url, type, options) {
    options = options || {};
    if (type === "GET") {
      options.data = options.data || {};
      options.data["access_token"] = this.get('token');
    } else {
      options.headers = options.headers || {};
      options.headers["Authorization"] = 'Bearer ' + this.get('token');
    }
    return this._super(url, type, options);
  },

  cancel: function(modelName, id, snapshot) {
    var url = this.buildURL(modelName, id) + '/cancel';
    return this.ajax(url, 'PUT', { data: snapshot });
  }

});
