// DO NOT EDIT - this file was autogenerated by Braise
import DS from 'ember-data';
import Ember from 'ember';

const { RESTAdapter } = DS;
const { computed, EmberString: String } = Ember;

export default RESTAdapter.extend({
  host: "https://production.icisapp.com",
  namespace: "api/patients/v3",
  token: computed.alias('accessTokenWrapper.token'),
  
  ajaxOptions(url, type, options) {
    options = options || {};
    if (type === "GET") {
      options.data = options.data || {};
      options.data["access_token"] = this.get('token');
    } else {
      options.headers = options.headers || {};
      options.headers["Authorization"] = 'Bearer ' + this.get('token');
    }
    return this._super(url, type, options);
  },

  autocomplete(modelName, id, snapshot) {
    const url = this.buildURL(modelName, id) + '/autocomplete';
    return this.ajax(url, 'GET', { data: snapshot });
  }

});
