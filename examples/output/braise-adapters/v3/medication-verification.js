// DO NOT EDIT - this file was autogenerated by Braise
import DS from 'ember-data';
import Ember from 'ember';

const { RESTAdapter } = DS;
const { computed, String: EmberString } = Ember; // eslint-disable-line no-unused-vars

export default RESTAdapter.extend({
  host: "https://production.icisapp.com",
  namespace: "api/v3",
  token: computed.alias('accessTokenWrapper.token'),

  pathForType(type) {
    const underscorized = EmberString.underscore(type);
    return EmberString.pluralize(underscorized);
  },

  // replace with `headersForRequest` & `dataForRequest` once `ds-improved-ajax` feature is enabled on ember-data
  ajaxOptions(url, type, options) {
    options = options || {};
    if (type === "GET") {
      options.data = options.data || {};
      options.data["access_token"] = this.get('token'); // eslint-disable-line dot-notation
    } else {
      options.headers = options.headers || {};
      options.headers["Authorization"] = `Bearer ${this.get('token')}`; // eslint-disable-line dot-notation
    }
    return this._super(url, type, options);
  }
});
